{
  "Applications": [
    {
      "Name": "app",
      "EngineConfiguration": {
        "DefaultFlushInterval": 500,
        "Schema": "type Query {\n  me: User\n  topProducts(first: Int = 5): [Product]\n}\n\ntype User {\n  id: ID!\n  name: String\n  username: String\n  reviews: [Review]\n}\n\ntype Review {\n  id: ID!\n  body: String\n  author: User\n  product: Product\n}\n\ntype Product {\n  upc: String!\n  reviews: [Review]\n  name: String\n  price: Int\n  weight: Int\n  inStock: Boolean\n  shippingEstimate: Int\n}\n\ntype Mutation {\n  setPrice(upc: String!, price: Int!): Product\n}\n\ntype Subscription {\n  updatedPrice: Product!\n}\n",
        "DataSources": [
          {
            "DataSourceName": "graphql",
            "RootNodes": [
              {
                "TypeName": "Query",
                "FieldNames": [
                  "me"
                ]
              },
              {
                "TypeName": "User",
                "FieldNames": [
                  "id",
                  "name",
                  "username"
                ]
              }
            ],
            "ChildNodes": [
              {
                "TypeName": "User",
                "FieldNames": [
                  "id",
                  "name",
                  "username"
                ]
              }
            ],
            "Custom": {
              "Fetch": {
                "HTTPMethod": "POST",
                "URL": "http://localhost:4001/graphql"
              },
              "Subscription": {
                "Enabled": false
              },
              "Federation": {
                "Enabled": true,
                "ServiceSDL": "type Query @extends {\n  me: User\n}\n\ntype User @key(fields: \"id\") {\n  id: ID!\n  name: String\n  username: String\n}\n"
              }
            }
          },
          {
            "DataSourceName": "graphql",
            "RootNodes": [
              {
                "TypeName": "Review",
                "FieldNames": [
                  "id",
                  "body",
                  "author",
                  "product"
                ]
              },
              {
                "TypeName": "User",
                "FieldNames": [
                  "reviews"
                ]
              },
              {
                "TypeName": "Product",
                "FieldNames": [
                  "reviews"
                ]
              }
            ],
            "ChildNodes": [
              {
                "TypeName": "Review",
                "FieldNames": [
                  "id",
                  "body",
                  "author",
                  "product"
                ]
              },
              {
                "TypeName": "User",
                "FieldNames": [
                  "id"
                ]
              },
              {
                "TypeName": "Product",
                "FieldNames": [
                  "upc"
                ]
              }
            ],
            "Custom": {
              "Fetch": {
                "HTTPMethod": "POST",
                "URL": "http://localhost:4002/graphql"
              },
              "Subscription": {
                "Enabled": false
              },
              "Federation": {
                "Enabled": true,
                "ServiceSDL": "type Review @key(fields: \"id\") {\n  id: ID!\n  body: String\n  author: User @provides(fields: \"username\")\n  product: Product\n}\n\ntype User @extends @key(fields: \"id\") {\n  id: ID! @external\n  username: String @external\n  reviews: [Review]\n}\n\ntype Product @extends @key(fields: \"upc\") {\n  upc: String! @external\n  reviews: [Review]\n}\n"
              }
            }
          },
          {
            "DataSourceName": "graphql",
            "RootNodes": [
              {
                "TypeName": "Query",
                "FieldNames": [
                  "topProducts"
                ]
              },
              {
                "TypeName": "Product",
                "FieldNames": [
                  "upc",
                  "name",
                  "price",
                  "weight"
                ]
              },
              {
                "TypeName": "Subscription",
                "FieldNames": [
                  "updatedPrice"
                ]
              },
              {
                "TypeName": "Mutation",
                "FieldNames": [
                  "setPrice"
                ]
              }
            ],
            "ChildNodes": [
              {
                "TypeName": "Product",
                "FieldNames": [
                  "upc",
                  "name",
                  "price",
                  "weight"
                ]
              }
            ],
            "Custom": {
              "Fetch": {
                "HTTPMethod": "POST",
                "URL": "http://localhost:4003/graphql"
              },
              "Subscription": {
                "Enabled": true,
                "URL": "ws://localhost:4003/graphql"
              },
              "Federation": {
                "Enabled": true,
                "ServiceSDL": "type Query @extends {\n  topProducts(first: Int = 5): [Product]\n}\n\ntype Product @key(fields: \"upc\") {\n  upc: String!\n  name: String\n  price: Int\n  weight: Int\n}\n\ntype Subscription @extends {\n  updatedPrice: Product!\n}\n\ntype Mutation @extends {\n  setPrice(upc: String!, price: Int!): Product\n}"
              }
            }
          },
          {
            "DataSourceName": "graphql",
            "RootNodes": [
              {
                "TypeName": "Product",
                "FieldNames": [
                  "inStock",
                  "shippingEstimate"
                ]
              }
            ],
            "ChildNodes": [
              {
                "TypeName": "Product",
                "FieldNames": [
                  "upc"
                ]
              }
            ],
            "Custom": {
              "Fetch": {
                "HTTPMethod": "POST",
                "URL": "http://localhost:4004/graphql"
              },
              "Subscription": {
                "Enabled": false
              },
              "Federation": {
                "Enabled": true,
                "ServiceSDL": "type Product @extends @key(fields: \"upc\") {\n    upc: String! @external\n    weight: Int @external\n    price: Int @external\n    inStock: Boolean\n    shippingEstimate: Int @requires(fields: \"price weight\")\n}\n"
              }
            }
          }
        ],
        "Fields": [
          {
            "TypeName": "User",
            "FieldName": "reviews",
            "RequiresFields": [
              "id"
            ]
          },
          {
            "TypeName": "Product",
            "FieldName": "reviews",
            "RequiresFields": [
              "upc"
            ]
          },
          {
            "TypeName": "Query",
            "FieldName": "topProducts",
            "Arguments": [
              {
                "Name": "first",
                "SourceType": "field_argument"
              }
            ]
          },
          {
            "TypeName": "Mutation",
            "FieldName": "setPrice",
            "Arguments": [
              {
                "Name": "upc",
                "SourceType": "field_argument"
              },
              {
                "Name": "price",
                "SourceType": "field_argument"
              }
            ]
          },
          {
            "TypeName": "Product",
            "FieldName": "inStock",
            "RequiresFields": [
              "upc"
            ]
          },
          {
            "TypeName": "Product",
            "FieldName": "shippingEstimate",
            "RequiresFields": [
              "upc"
            ]
          }
        ]
      },
      "EnableSingleFlight": true,
      "Operations": [
        {
          "Name": "Me",
          "Content": "query Me {\n  me {\n    id\n    name\n    username\n  }\n}",
          "OperationType": "query",
          "VariablesSchema": {
            "type": "object",
            "properties": {},
            "additionalProperties": false
          },
          "ResponseSchema": {
            "type": "object",
            "properties": {
              "data": {
                "type": "object",
                "properties": {
                  "me": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string"
                      },
                      "name": {
                        "type": "string"
                      },
                      "username": {
                        "type": "string"
                      }
                    },
                    "additionalProperties": false,
                    "required": [
                      "id"
                    ]
                  }
                },
                "additionalProperties": false
              }
            },
            "additionalProperties": false
          }
        },
        {
          "Name": "UpdatedPrices",
          "Content": "subscription UpdatedPrices {\n  updatedPrice {\n    upc\n    name\n    price\n    reviews {\n      id\n      body\n    }\n  }\n}",
          "OperationType": "subscription",
          "VariablesSchema": {
            "type": "object",
            "properties": {},
            "additionalProperties": false
          },
          "ResponseSchema": {
            "type": "object",
            "properties": {
              "data": {
                "type": "object",
                "properties": {
                  "updatedPrice": {
                    "type": "object",
                    "properties": {
                      "upc": {
                        "type": "string"
                      },
                      "name": {
                        "type": "string"
                      },
                      "price": {
                        "type": "integer"
                      },
                      "reviews": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string"
                            },
                            "body": {
                              "type": "string"
                            }
                          },
                          "additionalProperties": false,
                          "required": [
                            "id"
                          ]
                        }
                      }
                    },
                    "additionalProperties": false,
                    "required": [
                      "upc"
                    ]
                  }
                },
                "additionalProperties": false,
                "required": [
                  "updatedPrice"
                ]
              }
            },
            "additionalProperties": false
          }
        },
        {
          "Name": "SetPrice",
          "Content": "mutation SetPrice($upc: String!, $price: Int!) {\n  setPrice(upc: $upc, price: $price) {\n    upc\n    name\n    price\n  }\n}",
          "OperationType": "mutation",
          "VariablesSchema": {
            "type": "object",
            "properties": {
              "upc": {
                "type": "string"
              },
              "price": {
                "type": "integer"
              }
            },
            "additionalProperties": false,
            "required": [
              "upc",
              "price"
            ]
          },
          "ResponseSchema": {
            "type": "object",
            "properties": {
              "data": {
                "type": "object",
                "properties": {
                  "setPrice": {
                    "type": "object",
                    "properties": {
                      "upc": {
                        "type": "string"
                      },
                      "name": {
                        "type": "string"
                      },
                      "price": {
                        "type": "integer"
                      }
                    },
                    "additionalProperties": false,
                    "required": [
                      "upc"
                    ]
                  }
                },
                "additionalProperties": false
              }
            },
            "additionalProperties": false
          }
        }
      ]
    }
  ]
}